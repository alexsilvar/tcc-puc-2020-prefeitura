<ngb-alert type="info" [dismissible]="true" *ngIf="redirected">
    Realize o login antes de acessar páginas restritas
</ngb-alert>
<ngb-alert type="danger" [dismissible]="true" *ngIf="errorMessage != null" (closed)="closeAlert()">{{errorMessage}}</ngb-alert>

<div class="card" *ngIf="signup">
    <article class="card-body">
        <h4 class="card-title text-center mb-4 mt-1">Cadastro</h4>
        <hr>
        <p class="text-success text-center">Funcionário Público de Bom Destino</p>
        <form [formGroup]="signupGroup">
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faUser"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="username" class="form-control" placeholder="Nome">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faUser"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="email" class="form-control" placeholder="Email" type="email">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faUser"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="cpf" class="form-control" placeholder="CPF">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faLock"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="password" class="form-control" placeholder="Senha" type="password">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faLock"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="password2" class="form-control" placeholder="Confirmar Senha"
                        type="password">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block" (click)="signupSubmit()"> Cadastrar
                </button>
            </div> <!-- form-group// -->
            <button class="btn btn-block" (click)="switchLoginSignup()"> Voltar ao Login </button>
        </form>
    </article>
</div> <!-- card.// -->

<div class="card" *ngIf="!signup">
    <article class="card-body">
        <h4 class="card-title text-center mb-4 mt-1">Login</h4>
        <hr>
        <p class="text-success text-center">Funcionário Público de Bom Destino</p>
        <form [formGroup]="loginGroup">
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faUser"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="email" class="form-control" placeholder="Email" type="email">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">
                            <fa-icon [icon]="faLock"></fa-icon>
                        </span>
                    </div>
                    <input formControlName="password" class="form-control" placeholder="******" type="password">
                </div> <!-- input-group.// -->
            </div> <!-- form-group// -->
            <div class="form-group">
                <ng-container *ngIf="isLoading">
                    <p>
                        <ngb-progressbar type="warning" [value]="100" [striped]="true" [animated]="true"><i>Logando</i>
                        </ngb-progressbar>
                    </p>
                </ng-container>
                <ng-container *ngIf="!isLoading">
                    <button type="submit" class="btn btn-primary btn-block" (click)="login()"> Login </button>
                </ng-container>
            </div> <!-- form-group// -->
            <!-- <button class="btn btn-block" (click)="switchLoginSignup()"> Cadastrar </button> -->
        </form>
    </article>
</div> <!-- card.// -->